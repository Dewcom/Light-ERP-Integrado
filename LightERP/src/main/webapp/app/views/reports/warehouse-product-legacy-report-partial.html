<div>
    <form name="legacyController.wareHouseSearchProductLegacyForm" ng-submit="controller.fillProductLegacyTable()" novalidate="" class="form-validate">
        <div class="col-lg-12">
            <div class="panel-body col-lg-4">
                <div class="form-group">
                    <label>Código producto</label>

                    <ui-select ng-model="controller.legacyReport.selectedProduct" theme="bootstrap">
                        <ui-select-match placeholder="Buscar por nombre o código...">
                            {{controller.legacyReport.selectedProduct.productCode + ' ' + controller.legacyReport.selectedProduct.name}}
                            <button type="button" class=" clear fa fa-trash" ng-click="controller.legacyReport.clearSelected()"></button>
                        </ui-select-match>
                        <ui-select-choices
                                repeat="product in controller.productList | propsFilter: {name: $select.search, productCode: $select.search} | limitTo: ($select.search.length <= 2) ? 50 : undefined">
                            <div ng-click="">
                                <div ng-bind-html="product.productCode | highlight: $select.search"></div>
                                <small>Nombre: {{product.name}} Código:
                                    <span ng-bind-html="''+product.productCode | highlight: $select.search"></span>
                                </small>
                            </div>
                        </ui-select-choices>
                    </ui-select>

                </div>
            </div>
        </div>
        <div class="col-lg-12">
            <div class="panel-body col-lg-3 pull-right">
                <div class="form-group">
                    <button uib-tooltip="Buscar" uib-tooltip-trigger="focus"
                            uib-tooltip-placement="top" type="submit" class="btn btn-primary pull-right ml">
                        Buscar
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>
<div ng-show="controller.legacyReport.showTable" class="container-fluid">
    <!-- Filter Example-->
    <h4 class="page-header">Resultados</h4>
    <div class="row">
        <div class="col-lg-4 col-md-6">
            <input placeholder="Filtrar..." type="text" ng-model="controller.gridOptionsLegacyReport.quickFilterText" class="mb form-control" />

        </div>
        <div class="col-lg-4 col-md-6">

            <button ng-disabled="controller.reportData.length <= 0" uib-tooltip="Exportar" uib-tooltip-trigger="focus"
                    uib-tooltip-placement="top" ng-click="controller.exportLegacyReportAsCvs()" class="btn btn-primary">
                Exportar a CSV
            </button>
        </div>
    </div>
    <div ag-grid="controller.gridOptionsLegacyReport" style="width: 100%; height: 400px;" class="ag-angle"></div>
</div>
<span us-spinner="{radius:20, width:8, length: 16, color: '#3A3F51'}" spinner-key="customersSpinner" spinner-start-active="false"></span>